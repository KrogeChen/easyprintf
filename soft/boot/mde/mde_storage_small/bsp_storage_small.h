//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
#ifndef BSP_STORAGE_SMALL_H
#define BSP_STORAGE_SMALL_H
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
#ifndef snail_data_types
    #include ".\snail_data_types.h"
#endif
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
#define MAX_EEBYTES   512
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
typedef union
{
    sdt_int32u g_share_bf32[MAX_EEBYTES/4];
    sdt_int8u  g_share_bf8[MAX_EEBYTES];  
}G_SHARE_DEF;
//------------------------------------------------------------------------------
//typedef enum
//{
//    ift_usaInf  = 0x00,
//    ift_usaApp  = 0x01,
//    ift_eefMap  = 0x02,
//    ift_eefUser = 0x03,
//}INF_TYPE_DEF;
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
typedef struct
{
    sdt_int8u in_block;
    sdt_int8u *pIn_eefMap;
    sdt_int8u in_eefMap_bytes;
    sdt_int8u *pIn_eefInf;
    sdt_int16u in_eefInf_bytes;
    sdt_int8u in_eefCs;
}STORAGE_EEF_DEF;
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//EEPROM BSP访问接口
//------------------------------------------------------------------------------
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
void bsp_blockflash_cfg(void);
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//功能:从EEPROM里面读取1个字节的数据
//入口:存储块序号，偏移位置
//出口:读取的数据
//------------------------------------------------------------------------------
sdt_int8u bsp_read_eeMomery_byte(sdt_int8u in_block,sdt_int16u in_offset);
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//功能:写入EEPROM一串数据
//入口:eep数据信息结构指针
//出口:无
//------------------------------------------------------------------------------
void bsp_write_eeMomery_bytes(STORAGE_EEF_DEF *mix_sto_eef);
//------------------------------------------------------------------------------

//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//功能:写入EEPROM MAP数据,inf数据模块间内部转移
//入口:eep数据信息结构指针,inf指针无意义
//出口:无
//------------------------------------------------------------------------------
void bsp_write_eeMomery_map(STORAGE_EEF_DEF *mix_sto_eef);
//------------------------------------------------------------------------------

//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//块缓冲区采用共享内存的方式
//------------------------------------------------------------------------------
extern G_SHARE_DEF g_share;
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
#endif 
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

